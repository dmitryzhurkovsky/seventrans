class Burger {
    constructor(selector){
        this.$el_burger = document.querySelector(selector)
        this.$el_menu = document.querySelector('#burger_menu')
        this.setup()
    }

    setup() {
        this.clickHandler = this.clickHandler.bind(this)
        this.$el_burger.addEventListener('click', this.clickHandler)
        this.clickHandlerMenu = this.clickHandlerMenu.bind(this)
        this.$el_menu.addEventListener('click', this.clickHandlerMenu)
    }

    get isOpen() {
        return this.$el_burger.classList.contains('_active')
    }

    clickHandlerMenu(event) {
        const type = event.target.tagName
        console.log(type);
        if (type === 'A') {
            this.toggle()
        }
    }

    clickHandler(event) {
        this.toggle()
    }

    toggle() {
        this.isOpen ? this.close() : this.open()
    }

    open(){
        this.$el_burger.classList.add('_active')
        this.$el_menu.classList.add('_active')
        document.body.classList.toggle('_lock')
    }

    close(){
        this.$el_burger.classList.remove('_active')
        this.$el_menu.classList.remove('_active')
        document.body.classList.remove('_lock')
    }

    destroy() {
        this.$el_burger.removeEventListener('click', this.clickHandler)
    }
}

const burger = new Burger('#burger')
